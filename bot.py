í† í° = ""
c = 0
channel = 804986227329466378 
channel_promote = 811899414452633600 #804986242432237598 #í™ë³´ ì±„ë„ ì•„ì´ë””
admin_user = [763246275902308352,806432617671032842,763246275902308352]#ì œë¡ , í”Œë ˆ
ìš•ì„¤ = 'ì”¨ë°œ','ì‹œë°œ','ë³‘ì‹ ','ã…‚ã……','ã…†ã…‚','ã……ã…‚','ìƒˆë¼','ã……ã„²','ì§€ë„','ã…ˆã„¹','ã…„','ì• ë¯¸'
ê²€ì—´ = 'ì”¨ë°œ','ì‹œë°œ','ë³‘ì‹ ','ã…‚ã……','ã…†ã…‚','ã……ã…‚','ìƒˆë¼','ã……ã„²','ì§€ë„','ã…ˆã„¹','ã…„','ì„¹ìŠ¤','ë³´ì§€','ìì§€','ì‹ ìŒ','ã……ã……','ì• ë¯¸','https://discord.gg/'
ì„¹ë“œë¦½ = 'ì„¹ìŠ¤','ë³´ì§€','ìì§€','ì‹ ìŒ','ã……ã……'
join_count = 0
max_count = 5
join_time = 10
delete_count = 0
max_delete = 5
ban_count = 0
max_ban = 5
_time = 10
ì¼ë°˜ = """â€¢ ë„ì›€ - ë´‡ì˜ ëª…ë ¹ì–´ë¥¼ ë³´ì—¬ì¤€ë‹¤
â€¢ ë§í¬ - ê±´ê°•ëœë“œì™€ ë´‡ ê³µì‹ì„œë²„ ë§í¬ë¥¼ ë³´ì—¬ì¤€ë‹¤
â€¢ ì´ˆëŒ€ - ë´‡ì˜ ì´ˆëŒ€ ë§í¬ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤
â€¢ í•‘ - ë´‡ì˜ í•‘ì„ ì•Œ ìˆ˜ ìˆë‹¤
â€¢ ê³„ì‚° - %ê³„ì‚° (ê³„ì‚°ì‹)
â€¢ í˜„ì¬ì‹œê°„ - í˜„ì¬ì‹œê°„ì„ ì•Œë ¤ì¤€ë‹¤
â€¢ ë²ˆì—­ - %ë²ˆì—­ (êµ­ê°€ì½”ë“œ) (ë²ˆì—­í•  ë‚´ìš©)
    (ìì„¸í•œê±´ `%ë²ˆì—­ ë„ì›€` ì°¸ê³ )
â€¢ ì½”ë¡œë‚˜ - ì½”ë¡œë‚˜ í˜„ì¬ ìƒí™©ì„ ì•Œë ¤ì¤€ë‹¤
â€¢ ìœ ì €ì •ë³´ - ìœ ì €ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤
    (ìì„¸í•œê±´ `%ìœ ì €ì •ë³´ ë„ì›€` ì°¸ê³ )
â€¢ ì„œë²„ì •ë³´ - ì„œë²„ì˜ ì •ë³´ë¥¼ ë³´ì—¬ì¤€ë‹¤
"""
ê²Œì„ = """â€¢ ê°€ë°”ë³´ - ëª…ë ¹ì–´ ë’¤ì— ê°€ìœ„/ë°”ìœ„/ë³´ ë¥¼ ì ì–´ ë´‡ê³¼ ê°€ìœ„ë°”ìœ„ë³´ë¥¼ í•  ìˆ˜ ìˆë‹¤
â€¢ ë”°ë¼í•´ - ëª…ë ¹ì–´ ë’¤ì˜ ê¸€ì„ ë”°ë¼í•©ë‹ˆë‹¤
â€¢ êµ´ë ¤ ìˆ«ì - ì£¼ì‚¬ìœ„ë¥¼ êµ´ë¦°ë‹¤
â€¢ ë½‘ì•„ ë‹¨ì–´1 ë‹¨ì–´2... - ë‹¨ì–´ë“¤ ì¤‘ í•˜ë‚˜ë¥¼ ëœë¤ìœ¼ë¡œ ë½‘ì•„ì¤€ë‹¤
"""
ê´€ë¦¬ì = """
â€¢ ë°´ ìœ ì €id ì‚¬ìœ  - ìœ ì €ë¥¼ ë°´ í•  ìˆ˜ ìˆë‹¤
â€¢ ì–¸ë°´ ìœ ì €id - ìœ ì €ë¥¼ ë°´ì„ í•´ì œ í•  ìˆ˜ ìˆë‹¤
â€¢ í‚¥ ìœ ì €id ì‚¬ìœ  - ìœ ì €ë¥¼ ì¶”ë°© í•  ìˆ˜ ìˆë‹¤
â€¢ ìƒì„± - ë¬´ì œí•œ ì´ˆëŒ€ë§í¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
â€¢ ì—­í• ì¶”ê°€ - %ì—­í• ì¶”ê°€ @ë©˜ì…˜ ì—­í• ì´ë¦„
â€¢ ì—­í• ì œê±° - %ì—­í• ì œê±° @ë©˜ì…˜ ì—­í• ì´ë¦„
â€¢ í´ë¦° ìˆ«ì - ìˆ«ì ë§Œí¼ì˜ ë©”ì‹œì§€ë¥¼ ì§€ìš¸ ìˆ˜ ìˆë‹¤
â€¢ ë¡œê·¸ - ì„œë²„ì˜ ë¡œê·¸ë¥¼ ë³´ì—¬ì£¼ëŠ” ì±„ë„ì´ ìƒì„± ëœë‹¤
    (ìì„¸í•œê±´ `%ë¡œê·¸ ë„ì›€` ì°¸ê³ )
â€¢ ê²€ì—´ - ê²€ì—´ ì±„ë„ì´ ë§Œë“¤ì–´ì§„ë‹¤
    (ìì„¸í•œê±´ `%ê²€ì—´ ë„ì›€` ì°¸ê³ )
â€¢ í…ŒëŸ¬ë³´í˜¸ - `í† í°í…ŒëŸ¬, í´ë¦°í…ŒëŸ¬, ì°¨ë‹¨í…ŒëŸ¬`ë¡œ ë¶€í„° ì„œë²„ë¥¼ ë³´í˜¸í•©ë‹ˆë‹¤
    (í…ŒëŸ¬ë¥¼ ì‹œë„í•˜ëŠ” ìœ ì €ì˜ ì—­í•  ë³´ë‹¤ ê±´ê°•ì´ì˜ ê¶Œí•œì´ ë†’ì•„ì•¼ í•©ë‹ˆë‹¤)
"""
í™ë³´ = """
â€¢ `%ì…‹ì—…` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš© í•˜ì—¬ ë§Œë“  `ê±´ê°•ëœë“œ` ì±„ë„ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤
(ì±„ë„ ì´ë¦„ ë°”ê¾¸ì§€ ë§ˆì„¸ìš”)
â€¢ ì„œë²„ ê´€ë¦¬ìë§Œ ì‚¬ìš© ê°€ëŠ¥ í•˜ë©° ì¿¨íƒ€ì„ì€ `ì„œë²„ë‹¹ 1ì‹œê°„` ì…ë‹ˆë‹¤ 

"""
ê²€ì—´ì„¤ëª… = """
â€¢ %ê²€ì—´ í†µí•©- ìš•ì„¤ ë° ì„¹ë“œë¦½ ê²€ì—´ 
â€¢ %ê²€ì—´ ìš•ì„¤ - ìš•ì„¤ë§Œ ê²€ì—´ 
â€¢ %ê²€ì—´ ì„¹ë“œë¦½ - ì„¹ë“œë¦½ë§Œ ê²€ì—´ 
ì…‹ ì¤‘ì— í•˜ë‚˜ë§Œ ì‚¬ìš©í•´ ì£¼ì„¸ìš”
"""
import discord
import json
import io
import time
import asyncio
import random
import datetime
import bs4
import os
#import requests
import turtle as t
from discord.ext import commands
from discord.utils import get
from discord.ext.commands import (CommandNotFound, BadArgument, MissingRequiredArgument, CommandOnCooldown, MissingPermissions)
from discord.ext.commands.cooldowns import BucketType
from discord.ext.commands import command
from discord.ext.commands.core import cooldown
from discord import Embed, File

def get_nick(client, message):
    with open('owner.json', 'r') as f:
        nickname = json.load(f)
    
    return nickname[str(message.guild.id), str(message.channel.id)]

def get_prefix(client, message):
    with open('prefix.json', 'r') as f:
        prefixes = json.load(f)

    return prefixes[str(message.guild.id)]

intents = discord.Intents.all()
intents.members = True
client = commands.Bot(intents=intents, command_prefix=get_prefix)

@client.event
async def on_ready():
    print("    ë””ìŠ¤ì½”ë“œ ë´‡ì´ ì •ìƒì ìœ¼ë¡œ ë¡œê·¸ì¸ ë˜ì—ˆìŠµë‹ˆë‹¤.    ")
    print("    >> ë‹¤ìŒìœ¼ë¡œ ë¡œê·¸ì¸í•©ë‹ˆë‹¤.")
    print("     : BOT NAME | " + client.user.name)
    print("     : BOT CLIENT ID | " + str(client.user.id))
    print(" ")
    print(" ")
    await client.change_presence(status=discord.Status.offline)
    game = discord.Game("ë¶€íŒ… ì¤‘...í˜„ì¬ ëª…ë ¹ì–´ ì‚¬ìš© ë¶ˆê°€")
    await client.change_presence(status=discord.Status.online, activity=game)
    while True:
        user = len(client.users)
        game = discord.Game(str(user) + "ëª…ì˜ ìœ ì €ì™€ í•¨ê»˜í•˜ê³  ìˆì–´ìš”!")
        await client.change_presence(status=discord.Status.online, activity=game)
        await asyncio.sleep(10)
        game = discord.Game("ã…‡ã……ã…‡")
        await client.change_presence(status=discord.Status.online, activity=game)
        await asyncio.sleep(10)
        game = discord.Game("ë´‡ í…ŒìŠ¤íŠ¸ì¤‘")
        await client.change_presence(status=discord.Status.online, activity=game)
        await asyncio.sleep(10)

#================================================ ì„œë²„ prefix ë³€ê²½ ================================================
@client.listen()
async def on_guild_join(guild):
    with open("prefix.json", "r") as f:
        prefixes = json.load(f)
    prefixes[str(guild.id)] = '.'
    with open("prefix.json", "w") as f:
        json.dump(prefixes, f, indent=4)

    with open("owner.json", "r") as f:
        nickname = json.load(f)
    nickname[str(guild.id)] = ''
    with open("owner.json", "w") as f:
        json.dump(nickname, f, indent=4)

@client.listen()
async def on_guild_remove(guild):
    with open("prefix.json", "r") as f:
        prefixes = json.load(f)
    prefixes.pop(str(guild.id))
    with open("prefix.json", "w") as f:
        json.dump(prefixes, f, indent=4)

@client.command()
async def ëª…ë ¹ì–´ì„¤ì •(ctx, *, prefix):
    with open("prefix.json", "r") as f:
        prefixes = json.load(f)
    prefixes[str(ctx.guild.id)] = prefix
    with open("prefix.json", "w") as f:
        json.dump(prefixes, f, indent=4)
    await ctx.send(f"Command_Prefixê°€ `{prefix}` ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.")

@client.listen()
async def on_message(msg):
    try:
        if msg.mentions[0] == client.user:
            with open("prefix.json", "r") as f:
                prefixes = json.load(f)
            pre = prefixes[str(msg.guild.id)] 
            await msg.channel.send(f"í˜„ì¬ **{msg.guild}** ì„œë²„ì˜ Command_PrefixëŠ” `{pre}` ì…ë‹ˆë‹¤")
    except:
        pass
    await client.process_commands(msg)

#================================================ Nick Prefix ë³€ê²½ ================================================
@client.command()
@commands.has_permissions(administrator = True)
async def ë‹‰ë„¤ì„ì„¤ì •(ctx, *, nick):
    with open("owner.json", "r") as f:
        nickname = json.load(f)
    nickname[str(ctx.guild.id)] = nick
    with open("owner.json", "w") as f:
        json.dump(nickname, f, indent=4)
    await ctx.send(f"Nick Prefixê°€ `{nick}` ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.")

#================================================ ë´‡ ë° ì„œë²„ ì´ˆëŒ€ ================================================
@client.command()
@commands.cooldown(1, 5, commands.BucketType.user)
async def ì´ˆëŒ€(ctx):
    if ctx.author.bot:
        return
    embed = discord.Embed(title="ë´‡ ì´ˆëŒ€",description="[ì´ê³³ì„ í´ë¦­í•˜ì„¸ìš”](https://discord.com/oauth2/authorize?client_id=805661063253196871&permissions=8&scope=bot)",color=0x87CEFA)
    embed.set_thumbnail(url=client.user.avatar_url)
    await ctx.send(embed=embed)

@client.command()
@commands.cooldown(1, 5, commands.BucketType.user)
async def ë§í¬(ctx):
    if ctx.author.bot:
        return
    embed = discord.Embed(title="ì„œë²„ë§í¬",description="ê±´ê°•ëœë“œ : [ì´ê³³ì„ í´ë¦­í•˜ì„¸ìš”](https://discord.gg/jvDYjVT)\në´‡ ê³µì‹ì„œë²„ (íŒ€ ë‹¥í„°) : [ì´ê³³ì„ í´ë¦­í•˜ì„¸ìš”](https://discord.gg/2fyY2Gfw2G)",color=0x87CEFA)
    await ctx.send(embed=embed)

#================================================ í¸ì˜ ê¸°ëŠ¥ ================================================
@client.command()
@commands.cooldown(1, 10, commands.BucketType.user)
async def í•‘(ctx):
    m = await ctx.send(embed = discord.Embed(
        title = 'í•‘ ì¸¡ì •ì¤‘.....',
        colour = discord.Colour.dark_orange()
    )) #[1]
    await asyncio.sleep(2)
    ping = round(client.latency * 1000) #[2]
    latency = m.created_at - ctx.message.created_at #[3]
    if ping >= 0 and ping <= 100: #[4]
        pings = "ğŸ”µ ë§¤ìš° ì¢‹ìŒ"
        embed = discord.Embed(title=f"ğŸ“ Pong",color=0x00e2ff, timestamp=ctx.message.created_at)
        embed.add_field(name="Latency", value=f'{latency}ms', inline=True)
        embed.add_field(name="API Latency", value=f'{ping}ms\n{pings}', inline=True)
        embed.set_thumbnail(url="https://i.imgur.com/1Gk4tOj.png")
        await m.edit(embed=embed) #[5]
    elif ping >= 101 and ping <= 200:
        pings = "ğŸŸ¢ ì¢‹ìŒ" 
        embed = discord.Embed(title=f"ğŸ“ Pong!",color=0x00ff24, timestamp=ctx.message.created_at)
        embed.add_field(name="Latency", value=f'{latency}ms', inline=True)
        embed.add_field(name="API Latency", value=f'{ping}ms\n{pings}', inline=True)
        embed.set_thumbnail(url="https://i.imgur.com/1Gk4tOj.png")
        await m.edit(embed=embed)    
    elif ping >= 201 and ping <= 500:
        pings = "ğŸŸ¡ ë³´í†µ"
        embed = discord.Embed(title=f"ğŸ“ Pong!",color=0xfeff0e, timestamp=ctx.message.created_at)
        embed.add_field(name="Latency", value=f'{latency}ms', inline=True)
        embed.add_field(name="API Latency", value=f'{ping}ms\n{pings}', inline=True)
        embed.set_thumbnail(url="https://i.imgur.com/1Gk4tOj.png")
        await m.edit(embed=embed)      
    elif ping >= 501 and ping <= 1000:
        pings = "ğŸŸ  ìœ„í—˜"
        embed = discord.Embed(title=f"ğŸ“ Pong!",color=0xff9f0e, timestamp=ctx.message.created_at)
        embed.add_field(name="Latency", value=f'{latency}ms', inline=True)
        embed.add_field(name="API Latency", value=f'{ping}ms\n{pings}', inline=True)
        embed.set_thumbnail(url="https://i.imgur.com/1Gk4tOj.png")
        await m.edit(embed=embed)      
    elif ping >= 1000:
        pings = "ğŸ”´ ë§¤ìš° ìœ„í—˜"
        embed = discord.Embed(title=f"ğŸ“ Pong!",color=0xff0000, timestamp=ctx.message.created_at)
        embed.add_field(name="Latency", value=f'{latency}ms', inline=True)
        embed.add_field(name="API Latency", value=f'{ping}ms\n{pings}', inline=True)
        embed.set_thumbnail(url="https://i.imgur.com/1Gk4tOj.png")
        await m.edit(embed=embed)

@client.command()
@commands.cooldown(1, 60, commands.BucketType.user)
async def ìœ ì €ì •ë³´(ctx, member: discord.Member):
    user = member
    date = datetime.datetime.utcfromtimestamp(((int(user.id) >> 22) + 1420070400000) / 1000)
    roles = [role for role in member.roles]
    embed=discord.Embed(title=user.name+"ë‹˜ì˜ ì •ë³´", description=user.name+"ë‹˜ì˜ ì •ë³´ë¥¼ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤", color=0x00ffee)
    embed.add_field(name="ë””ìŠ¤ì½”ë“œ ë‹‰ë„¤ì„", value=user, inline=True)
    embed.add_field(name="ì„œë²„ ë‹‰ë„¤ì„", value=user.display_name, inline=False)
    embed.add_field(name="ê³„ì •ìƒì„±ì¼", value=str(date.year)+"ë…„"+str(date.month)+"ì›”"+str(date.day)+"ì¼", inline=False)
    embed.add_field(name="ì•„ì´ë””", value=user.id, inline=False)
    bot = str(user.bot)
    if bot == "True":
        bot = "ë´‡"
    else:
        bot = "ì‚¬ëŒ"
    embed.add_field(name="ë´‡ ì—¬ë¶€", value=f"{bot}", inline=False)
    embed.add_field(name="ì—­í• ", value=" ".join([role.mention for role in roles]), inline=False)
    if member.guild_permissions.administrator:
        admin = "O"
    else:
        admin = "X"
    embed.add_field(name="ê´€ë¦¬ì ê¶Œí•œ ì—¬ë¶€", value=f"{admin}", inline=False)
    sta = str(member.status)
    if sta == "online":
        status = "ì˜¨ë¼ì¸ ğŸŸ¢"
    elif sta == "dnd":
        status = "ë‹¤ë¥¸ ìš©ë¬´ ì¤‘ â›”"
    elif sta == "idle":
        status = "ìë¦¬ ë¹„ì›€ ğŸŸ¡"
    elif sta == "offline":
        status = "ì˜¤í”„ë¼ì¸ âšª"
    embed.add_field(name="ìƒíƒœ", value=f"{status}", inline=False)
    act = str(member.activity)
    if act == "None":
        act = "í™œë™ì´ ì—†ìŠµë‹ˆë‹¤"
    else:
        act = (member.activity)
    embed.add_field(name="í™œë™", value=f"{act}", inline=False)
    jubseok = member.guild.get_member(member.id).is_on_mobile()
    if jubseok == True:
        jubseok = "í•¸ë“œí°"
    else:
        jubseok = "PC"
    embed.add_field(name="ì ‘ì† ê¸°ê¸°", value=f"{jubseok}", inline=False)
    embed.set_thumbnail(url=member.avatar_url)
    embed.set_footer(text=f"ìš”ì²­ì: {ctx.author}")
    await ctx.send(embed=embed)

#================================================ ê²Œì„ ê¸°ëŠ¥ ================================================
@client.command()
@commands.cooldown(1, 10, commands.BucketType.user)
async def êµ´ë ¤(ctx):
    if ctx.author.bot:
        return
    try:
        number = int(ctx.message.content.split(" ")[1])
        number2 = random.randint(1,number)
        men = ctx.author.mention
        await ctx.send(f"{men}ë‹˜ì´ ì£¼ì‚¬ìœ„ë¥¼ ëŒë ¤ __{number2}__ì´(ê°€) ë‚˜ì™”ìŠµë‹ˆë‹¤")
    except:
        await message.channel.send("ëª…ë ¹ì–´ ë’¤ì— ìˆ«ìë¥¼ ë¶™ì—¬ì£¼ì„¸ìš”")
        return

@client.command()
@commands.cooldown(1, 10, commands.BucketType.user)
async def ë”°ë¼í•´(ctx, msg):
    if ctx.author.bot:
        return
    list = msg.split("í•´ ")
    try:
        fol = list[0]
        await ctx.send(fol)
    except:
        await ctx.send("ëª…ë ¹ì–´ ë’¤ì— ê¸€ì„ ì ì–´ì£¼ì„¸ìš”")
        return

@client.command()
@commands.cooldown(1, 10, commands.BucketType.user)
async def ê°€ë°”ë³´(ctx, msg):
    if ctx.author.bot:
        return
    ran = random.randint(0,4)
    list = msg.split("ë³´ ")
    try:
        rsp=list[0]
    except IndexError:
        return     
    if rsp =='ê°€ìœ„' or rsp =='ì°Œ':
        if ran == 1:
            embed = discord.Embed(title="ê°€ìœ„ë°”ìœ„ë³´", description="ì¡ŒìŠµë‹ˆë‹¤", color=0xFF7F50) #AAFFFF
            embed.add_field(name="ìœ ì €", value=":v:", inline=True)
            embed.add_field(name="ë´‡", value=":rock:", inline=True)
            await ctx.send(embed=embed)
        elif ran == 2:
            embed = discord.Embed(title="ê°€ìœ„ë°”ìœ„ë³´", description="ë¹„ê²¼ìŠµë‹ˆë‹¤", color=0x87CEFA)
            embed.add_field(name="ìœ ì €", value=":v:", inline=True)
            embed.add_field(name="ë´‡", value=":v:", inline=True)
            await ctx.send(embed=embed)
        else :
            embed = discord.Embed(title="ê°€ìœ„ë°”ìœ„ë³´", description="ì´ê²¼ìŠµë‹ˆë‹¤", color=0x00FF7F)
            embed.add_field(name="ìœ ì €", value=":v:", inline=True)
            embed.add_field(name="ë´‡", value=":raised_hand:", inline=True)
            await ctx.send(embed=embed)
    elif rsp =='ë°”ìœ„' or rsp =='ë¬µ' or rsp =='ì£¼ë¨¹':
        if ran == 1:
            embed = discord.Embed(title="ê°€ìœ„ë°”ìœ„ë³´", description="ë¹„ê²¼ìŠµë‹ˆë‹¤", color=0x87CEFA)
            embed.add_field(name="ìœ ì €", value=":rock:", inline=True)
            embed.add_field(name="ë´‡", value=":rock:", inline=True)
            await ctx.send(embed=embed)
        elif ran == 2:
            embed = discord.Embed(title="ê°€ìœ„ë°”ìœ„ë³´", description="ì´ê²¼ìŠµë‹ˆë‹¤", color=0x00FF7F)
            embed.add_field(name="ìœ ì €", value=":rock:", inline=True)
            embed.add_field(name="ë´‡", value=":v:", inline=True)
            await ctx.send(embed=embed)
        else :
            embed = discord.Embed(title="ê°€ìœ„ë°”ìœ„ë³´", description="ì¡ŒìŠµë‹ˆë‹¤", color=0xFF7F50)
            embed.add_field(name="ìœ ì €", value=":rock:", inline=True)
            embed.add_field(name="ë´‡", value=":raised_hand:", inline=True)
            await ctx.send(embed=embed)
    elif rsp =='ë³´'or rsp =='ë³´ìê¸°' or rsp =='ë¹ ':
        if ran == 1:
            embed = discord.Embed(title="ê°€ìœ„ë°”ìœ„ë³´", description="ì´ê²¼ìŠµë‹ˆë‹¤", color=0x00FF7F)
            embed.add_field(name="ìœ ì €", value=":raised_hand:", inline=True)
            embed.add_field(name="ë´‡", value=":rock:", inline=True)
            await ctx.send(embed=embed)
        elif ran == 2:
            embed = discord.Embed(title="ê°€ìœ„ë°”ìœ„ë³´", description="ì¡ŒìŠµë‹ˆë‹¤", color=0xFF7F50)
            embed.add_field(name="ìœ ì €", value=":raised_hand:", inline=True)
            embed.add_field(name="ë´‡", value=":v:", inline=True)
            await ctx.send(embed=embed)
        else :
            embed = discord.Embed(title="ê°€ìœ„ë°”ìœ„ë³´", description="ë¹„ê²¼ìŠµë‹ˆë‹¤", color=0x87CEFA)
            embed.add_field(name="ìœ ì €", value=":raised_hand:", inline=True)
            embed.add_field(name="ë´‡", value=":raised_hand:", inline=True)
            await ctx.send(embed=embed)
    else :
        await ctx.send("ê°€ìœ„, ë°”ìœ„, ë³´ ë§Œì³ì£¼ì„¸ìš”")

#================================================ ê´€ë¦¬ì§„ ì „ìš© ================================================
@client.command()
@commands.has_permissions(administrator = True)
async def ì²­ì†Œ(ctx):
    if ctx.author.bot:
        return
    try: 
        number = int(ctx.message.content.split(" ")[1])
        await ctx.message.delete()
        await ctx.message.channel.purge(limit=number)
        a = await ctx.send(embed=discord.Embed(title="ì²­ì†Œê¸°ëŠ¥ ë°œë™", description =f"{number}ê°œì˜ ë©”ì„¸ì§€ê°€ {ctx.author.mention}ë‹˜ì˜ ì˜í•˜ì—¬ ì‚­ì œ ë˜ì—ˆìŠµë‹ˆë‹¤", color=0x00ff00))
        await asyncio.sleep(5)
        await a.delete()
    except:  
            with open("prefix.json", "r") as f:
                prefixes = json.load(f)
            pre = prefixes[str(ctx.guild.id)] 
            await ctx.send(embed=discord.Embed(title="ì˜¤ë¥˜ ë°œìƒ!", description =f"{ctx.author.mention}ë‹˜ ëª…ë ¹ì–´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”! \n ì˜¬ë°”ë¥¸ ëª…ë ¹ì–´ëŠ” `{pre}ì²­ì†Œ (ìˆ«ì)`ì…ë‹ˆë‹¤!", color=0xFF0000))

@client.command(name="í‚¥")
@commands.has_permissions(administrator=True)
async def kick(ctx, member : discord.Member, *, reason=None):
    if ctx.author.bot:
        return
    await member.kick(reason=reason)
    embed = discord.Embed(title="í‚¥ ëª…ë ¹ì–´ ì‘ë™", color=0xAAFFFF) 
    embed.add_field(name="í‚¥ëœ ìœ ì €", value=f"{member.mention}", inline=False)
    embed.add_field(name="ëª…ë ¹ì–´ ì‚¬ìš©ì", value=f"{ctx.author.mention}", inline=False)
    embed.add_field(name="ì‚¬ìœ ", value=f"{reason}", inline=False)
    await ctx.send(embed=embed)

@client.command(name="ë°´")
@commands.has_permissions(administrator = True)
async def ban(ctx, member : discord.Member, *, reason=None):
    if ctx.author.bot:
        return
    await member.ban(reason=reason)
    embed = discord.Embed(title="ë°´ ëª…ë ¹ì–´ ì‘ë™", color=0xAAFFFF) 
    embed.add_field(name="ë°´ëœ ìœ ì €", value=f"{member.mention}", inline=False)
    embed.add_field(name="ëª…ë ¹ì–´ ì‚¬ìš©ì", value=f"{ctx.author.mention}", inline=False)
    embed.add_field(name="ì‚¬ìœ ", value=f"{reason}", inline=False)
    await ctx.send(embed=embed)

@client.command()
@commands.has_permissions(administrator = True)
async def ì–¸ë°´(ctx, *, member):
    if ctx.author.bot:
        return
    banned_users = await ctx.guild.bans()
    member_name, member_discriminator = member.split('#')
    for ban_entry in banned_users:
        user = ban_entry.user
        if (user.name, user.discriminator) == (member_name, member_discriminator):
            await ctx.guild.unban(user)
            embed = discord.Embed(title="ì–¸ë°´ ëª…ë ¹ì–´ ì‘ë™", color=0xAAFFFF) 
            embed.add_field(name="ì–¸ë°´ëœ ìœ ì €", value=f"{user.mention}", inline=False)
            embed.add_field(name="ëª…ë ¹ì–´ ì‚¬ìš©ì", value=f"{ctx.author.mention}", inline=False)
            await ctx.send(embed=embed)

@client.command()
@commands.has_permissions(administrator = True)
async def ìƒì„±(ctx):
    if ctx.author.bot:
        return
    link = await ctx.message.channel.create_invite(max_uses=1,unique=False)
    user = ctx.author
    await ctx.send(f"{user.mention}ë‹˜ ìš”ì²­í•˜ì‹  **{ctx.guild}** ì˜ ë§í¬ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. \n **ë§í¬ : [ {link} ]**")

#================================================ Team Docterì „ìš© ================================================
@client.command()
async def ì¸ì¦(ctx):
    if ctx.author.bot:
        return
    channel_id = int(ctx.channel.id)
    channel = int(811909469361274940)
    if channel_id == channel:
        await ctx.send("ì¸ì¦ë˜ì—ˆìŠµë‹ˆë‹¤")
        await ctx.author.add_roles(discord.utils.get(ctx.author.guild.roles, name="ìœ ì €"))

#================================================ Team Docter ê´€ë¦¬ì§„ ì „ìš© ================================================
@client.command()
@commands.has_permissions(administrator = True)
async def ê³µì§€(ctx):
    if ctx.author.bot:
        return
    user = int(ctx.author.id)
    ment = ctx.message.content[4:]
    for i in admin_user:
        if user == i:
            for server in client.guilds:
                for channel in server.text_channels:
                    channel_id =channel.id
                await client.get_channel(int(channel_id)).send(ment) 

@client.command()
@commands.has_permissions(administrator = True)
async def ì •ë³´(ctx):    
    if ctx.author.bot:
        return
    info = f"{str(len(client.guilds))} ì„œë²„ | {str(len(client.users))} ìœ ì €"
    await ctx.send(info)

@client.command()
async def ë‹‰ë„¤ì„ë³€ê²½(ctx, *, nickname):
    back_name = ctx.message.author.nick
    user = ctx.message.author
    with open("prefix.json", "r") as f:
        prefixes = json.load(f)
        fix = prefixes[str(ctx.guild.id)] 

    with open("owner.json", "r") as f:
        nick = json.load(f)
        pre = nick[str(ctx.guild.id)] 
    if pre == "":
        await ctx.send(embed=discord.Embed(title="ì˜¤ë¥˜ ë°œìƒ!", description =f"í˜„ì¬ ì´ ì„œë²„ì—ì„œëŠ” ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤! \n\n ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì‹œë ¤ë©´ `{fix}ë‹‰ë„¤ì„ì„¤ì •`ì„ í•´ì£¼ì„¸ìš”!", color=0xFF0000))
    else:
        await user.edit(nick=f'{pre} ' + nickname)
        embed = discord.Embed(title="ë‹‰ë„¤ì„ ë³€ê²½", color=0xffdd00)
        embed.add_field(name=f'ë³€ê²½ ì „ ë‹‰ë„¤ì„', value=f'{back_name}\n', inline=False)
        embed.add_field(name=f'ë³€ê²½ í›„ ë‹‰ë„¤ì„', value=f'{ctx.message.author.display_name}\n\n', inline=False)
        await ctx.send(embed=embed)
        print(f"[ LOG ] {user} ì´ê°€ ë‹‰ë„¤ì„ì„ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤. ì „: {back_name} / í›„: {ctx.message.author.display_name}")         

#============================================================================ ë¡œê·¸ / ê²€ì—´ ëª…ë ¹ì–´ /============================================================================
@client.command()
async def ë¡œê·¸(ctx, *, msg):
    if ctx.author.bot:
        return
    list = msg.split("ê·¸ ")
    try:
        com=list[0]
    except IndexError:
        return
    if com == "ë„ì›€":
        embed = discord.Embed(title="ë¡œê·¸ ëª…ë ¹ì–´ ì‚¬ìš©ë²•", description="%ë¡œê·¸ - ì±„íŒ…, í†µí™”ë°© ë¡œê·¸ \n%ë¡œê·¸ ìœ ì €(ìˆ˜ì •ì¤‘) - ìœ ì € ë¡œê·¸",color=0x00FF7F)
        await ctx.send(embed=embed)
        return
    if com == "ìƒì„±":
        logg = await ctx.guild.create_text_channel('ê±´ê°•ì´ ë¡œê·¸') #ì„œë²„ì´ë¦„
        await logg.edit(topic="ê±´ê°•ì´ ë¡œê·¸ ì±„ë„ì…ë‹ˆë‹¤")
        embed = discord.Embed(title="`ê±´ê°•ì´-ë¡œê·¸` ì±„ë„ì´ ìƒì„± ë˜ì—ˆìŠµë‹ˆë‹¤", description="",color=0x00FF7F)
        await ctx.send(embed=embed)
        chan = discord.utils.get(ctx.guild.text_channels, topic = "ê±´ê°•ì´ ë¡œê·¸ ì±„ë„ì…ë‹ˆë‹¤")
        await client.get_channel(int(chan.id)).send(f"{ctx.author.mention} ì±„ë„ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤")
    if com == "ìœ ì €":
        logg = await ctx.guild.create_text_channel('ê±´ê°•ì´ ìœ ì € ë¡œê·¸') #ì„œë²„ì´ë¦„
        await logg.edit(topic="ê±´ê°•ì´ ìœ ì € ë¡œê·¸ ì±„ë„ì…ë‹ˆë‹¤")
        embed = discord.Embed(title="`ê±´ê°•ì´-ìœ ì €-ë¡œê·¸` ì±„ë„ì´ ìƒì„± ë˜ì—ˆìŠµë‹ˆë‹¤", description="",color=0x00FF7F)
        await ctx.send(embed=embed)
        chan = discord.utils.get(ctx.guild.text_channels, topic = "ê±´ê°•ì´ ìœ ì € ë¡œê·¸ ì±„ë„ì…ë‹ˆë‹¤")
        await client.get_channel(int(chan.id)).send(f"{ctx.author.mention} ì±„ë„ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤")        
    if com == None:
        await ctx.send("í…ŒìŠ¤íŠ¸")

@client.command()
async def í…ŒëŸ¬ë³´í˜¸(ctx):
    if ctx.author.bot:
        return
    nuk = await ctx.guild.create_text_channel('ê±´ê°•ì´ í…ŒëŸ¬')
    await nuk.edit(topic="ê±´ê°•ì´ í…ŒëŸ¬ ì±„ë„ì…ë‹ˆë‹¤")
    embed = discord.Embed(title="`ê±´ê°•ì´-í…ŒëŸ¬` ì±„ë„ì´ ìƒì„± ë˜ì—ˆìŠµë‹ˆë‹¤", description="",color=0x00FF7F)
    await ctx.send(embed=embed)
    chan = discord.utils.get(ctx.guild.text_channels, topic = "ê±´ê°•ì´ í…ŒëŸ¬ ì±„ë„ì…ë‹ˆë‹¤")
    await client.get_channel(int(chan.id)).send(f"{ctx.author.mention} ì±„ë„ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤")   

@client.command()
async def ê²€ì—´(ctx, *, msg):
    if ctx.author.bot:
        return     
    list = msg.split("ì—´ ")
    try:
        gum = list[0]
    except IndexError:
        return
    if gum == "ë„ì›€":
        embed = discord.Embed(title="ê²€ì—´ ëª…ë ¹ì–´ ì‚¬ìš©ë²•",description="%ê²€ì—´ë¡œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤",color=0x00FFFF)
        embed.add_field(name= "ëª…ë ¹ì–´",value=ê²€ì—´ì„¤ëª… ,inline=False)
        await ctx.send(embed=embed)    
    if gum == "í†µí•©":   
        bad_ = await ctx.guild.create_text_channel('ê±´ê°•ì´ ê²€ì—´') #ì„œë²„ì´ë¦„
        await bad_.edit(topic = "ê±´ê°•ì´ ê²€ì—´ ì±„ë„ì…ë‹ˆë‹¤")
        embed = discord.Embed(title="`ê±´ê°•ì´-ê²€ì—´` ì±„ë„ì´ ìƒì„± ë˜ì—ˆìŠµë‹ˆë‹¤", description="",color=0x00FF7F)
        await ctx.send(embed=embed)
        await client.get_channel(int(bad_.id)).send(f"{ctx.author.mention} ì±„ë„ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤")
        return
    if gum == "ìš•ì„¤":
        bad_ = await ctx.guild.create_text_channel('ê±´ê°•ì´ ê²€ì—´') #ì„œë²„ì´ë¦„
        await bad_.edit(topic = "ê±´ê°•ì´ ìš•ì„¤ ê²€ì—´ ì±„ë„ì…ë‹ˆë‹¤")
        embed = discord.Embed(title="`ê±´ê°•ì´-ê²€ì—´` ì±„ë„ì´ ìƒì„± ë˜ì—ˆìŠµë‹ˆë‹¤", description="",color=0x00FF7F)
        await ctx.send(embed=embed)
        await client.get_channel(int(bad_.id)).send(f"{ctx.author.mention} ì±„ë„ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤")
        return
    if gum == "ì„¹ë“œë¦½":
        bad_ = await ctx.guild.create_text_channel('ê±´ê°•ì´ ê²€ì—´') #ì„œë²„ì´ë¦„
        await bad_.edit(topic = "ê±´ê°•ì´ ì„¹ë“œë¦½ ê²€ì—´ ì±„ë„ì…ë‹ˆë‹¤")
        embed = discord.Embed(title="`ê±´ê°•ì´-ê²€ì—´` ì±„ë„ì´ ìƒì„± ë˜ì—ˆìŠµë‹ˆë‹¤", description="",color=0x00FF7F)
        await ctx.send(embed=embed)
        await client.get_channel(int(bad_.id)).send(f"{ctx.author.mention} ì±„ë„ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤")
        return        


# #============================================================================ ê²€ì—´ ê¸°ëŠ¥ ============================================================================
@client.event
async def on_message(message):
    message_contant=message.content
    for i in ê²€ì—´:
        try:
            ì±„ë„ = discord.utils.get(message.guild.text_channels, topic = "ê±´ê°•ì´ ê²€ì—´ ì±„ë„ì…ë‹ˆë‹¤") #(guild.text_channels,name="ê±´ê°•ì´-ìœ ì €-ë¡œê·¸")
            channel_id = ì±„ë„.id #ê±´ê°•ì´-ê²€ì—´ ì˜ ì•„ì´ë””
            user = message.author   
            user_id = message.author.id
            time_ = time.strftime('%m/%d %I:%M %p',time.localtime(time.time()))
            for Channel in message.guild.channels:
                if i in message_contant:
                    if message.author.guild_permissions.administrator:
                        return
                    if message.author.bot:
                        return None
                    else:
                        await message.delete()
                        embed = discord.Embed(title="ê²½ê³ !!", description="", color=0xFF0000)
                        embed.set_footer(text="ë°”ë¥´ê³  ê³ ìš´ë§ì„ ì‚¬ìš©í•©ì‹œë‹¤")
                        await message.channel.send(embed=embed)
                        embed=discord.Embed(title="ê²€ì—´ë¨",description=f"<#{message.channel.id}> ì—ì„œ ê²€ì—´ë¨", color=0xFA8072)
                        embed.set_author(name=f"{user}", icon_url=message.author.avatar_url)
                        embed.add_field(name= "ê²€ì—´ëœ ë©”ì‹œì§€",value=message_contant ,inline=False)
                        embed.add_field(name= "ê²€ì—´ ë‹¨ì–´",value=i ,inline=False)
                        embed.set_footer(text=f"user id: {user_id} â€¢ {time_}",icon_url = client.user.avatar_url)
                        await client.get_channel(int(channel_id)).send(embed=embed)         
        except:
            for i in ìš•ì„¤:
                try:
                    ì±„ë„ = discord.utils.get(message.guild.text_channels, topic = "ê±´ê°•ì´ ìš•ì„¤ ê²€ì—´ ì±„ë„ì…ë‹ˆë‹¤") #(guild.text_channels,name="ê±´ê°•ì´-ìœ ì €-ë¡œê·¸")
                    channel_id = ì±„ë„.id #ê±´ê°•ì´-ê²€ì—´ ì˜ ì•„ì´ë””
                    user = message.author   
                    user_id = message.author.id
                    time_ = time.strftime('%m/%d %I:%M %p',time.localtime(time.time()))
                    for Channel in message.guild.channels:
                        if i in message_contant:
                            if message.author.bot:
                                return None
                            else:
                                await message.delete()
                                embed = discord.Embed(title="ê²½ê³ !!", description="", color=0xFF0000)
                                embed.set_footer(text="ë°”ë¥´ê³  ê³ ìš´ë§ì„ ì‚¬ìš©í•©ì‹œë‹¤")
                                await message.channel.send(embed=embed)
                                embed=discord.Embed(title="ê²€ì—´ë¨",description=f"<#{message.channel.id}> ì—ì„œ ìš•ì„¤ì´ ê°ì§€ë¨", color=0xFA8072)
                                embed.set_author(name=f"{user}", icon_url=message.author.avatar_url)
                                embed.add_field(name= "ê²€ì—´ëœ ë©”ì‹œì§€",value=message_contant ,inline=False)
                                embed.add_field(name= "ê²€ì—´ ë‹¨ì–´",value=i ,inline=False)
                                embed.set_footer(text=f"user id: {user_id} â€¢ {time_}",icon_url = client.user.avatar_url)
                                await client.get_channel(int(channel_id)).send(embed=embed)
                except:
                    for i in ì„¹ë“œë¦½:
                        try:
                            ì±„ë„ = discord.utils.get(message.guild.text_channels, topic = "ê±´ê°•ì´ ì„¹ë“œë¦½ ê²€ì—´ ì±„ë„ì…ë‹ˆë‹¤") #(guild.text_channels,name="ê±´ê°•ì´-ìœ ì €-ë¡œê·¸")
                            channel_id = ì±„ë„.id #ê±´ê°•ì´-ê²€ì—´ ì˜ ì•„ì´ë””
                            user = message.author   
                            user_id = message.author.id
                            time_ = time.strftime('%m/%d %I:%M %p',time.localtime(time.time()))
                            for Channel in message.guild.channels:
                                if i in message_contant:
                                    if message.author.bot:
                                        return None
                                        await message.delete()
                                        embed = discord.Embed(title="ê²½ê³ !!", description="", color=0xFF0000)
                                        embed.set_footer(text="ë°”ë¥´ê³  ê³ ìš´ë§ì„ ì‚¬ìš©í•©ì‹œë‹¤")
                                        await message.channel.send(embed=embed)
                                        embed=discord.Embed(title="ê²€ì—´ë¨",description=f"<#{message.channel.id}> ì—ì„œ ì„¹ë“œë¦½ì´ ê°ì§€ë¨", color=0xFA8072)
                                        embed.set_author(name=f"{user}", icon_url=message.author.avatar_url)
                                        embed.add_field(name= "ê²€ì—´ëœ ë©”ì‹œì§€",value=message_contant ,inline=False)
                                        embed.add_field(name= "ê²€ì—´ ë‹¨ì–´",value=i ,inline=False)
                                        embed.set_footer(text=f"user id: {user_id} â€¢ {time_}",icon_url = client.user.avatar_url)
                                        await client.get_channel(int(channel_id)).send(embed=embed)
                        except:
                            return
#ì´ë¯¸ì§€ ë¡œê·¸
    try:
        time_ = time.strftime('%m/%d %I:%M %p',time.localtime(time.time()))
        ì±„ë„ = discord.utils.get(message.guild.text_channels,topic = "ê±´ê°•ì´ ë¡œê·¸ ì±„ë„ì…ë‹ˆë‹¤")
        delete_message_channel = message.channel.id #ì‚­ì œëœ ë©”ì‹œì§€ì˜ ì±„ë„ ì•„ì´ë””
        channel_id = ì±„ë„.id #ê±´ê°•ì´-ë¡œê·¸ ì˜ ì•„ì´ë””
        user = message.author
        user_id = message.author.id
        url = message.attachments[0].url
        if message.author.bot:
            return
        embed=discord.Embed(title="",description=f"<#{message.channel.id}> ì—ì„œ ì´ë¯¸ì§€ê°€ ì˜¬ë¼ì˜´", color=0x9370DB)
        embed.set_author(name=f"{user}", icon_url=message.author.avatar_url)
        embed.set_image(url=url)
        embed.set_footer(text=f"user id: {user_id} â€¢ {time_}",icon_url = client.user.avatar_url)
        await client.get_channel(int(channel_id)).send(embed=embed)
    except:
        return

#ë©”ì‹œì§€ ì‚­ì œ ë¡œê·¸
@client.event
async def on_message_delete(message):
    try:
        if message.author.bot:
            return
        time_ = time.strftime('%m/%d %I:%M %p',time.localtime(time.time()))
        ì±„ë„ = discord.utils.get(message.guild.text_channels,topic = "ê±´ê°•ì´ ë¡œê·¸ ì±„ë„ì…ë‹ˆë‹¤")
        delete_message_channel = message.channel.id #ì‚­ì œëœ ë©”ì‹œì§€ì˜ ì±„ë„ ì•„ì´ë””
        channel_id = ì±„ë„.id #ê±´ê°•ì´-ë¡œê·¸ ì˜ ì•„ì´ë””
        user = message.author   
        user_id = message.author.id
        embed=discord.Embed(title="",description=f"<#{delete_message_channel}> ì—ì„œ ë©”ì‹œì§€ê°€ ì‚­ì œë¨", color=0xFFA500)
        embed.set_author(name=f"{user}", icon_url=message.author.avatar_url)
        embed.add_field(name= "ì‚­ì œëœ ë©”ì‹œì§€",value=message.content ,inline=False)
        embed.add_field(name= "ë©”ì‹œì§€ ì•„ì´ë””",value=message.id ,inline=False)
        embed.set_footer(text=f"user id: {user_id} â€¢ {time_}",icon_url = client.user.avatar_url)
        await client.get_channel(int(channel_id)).send(embed=embed)
        return
    except:
        return
#ë©”ì‹œì§€ ìˆ˜ì • ë¡œê·¸
@client.event
async def on_message_edit(message_before, message_after):
    try:
        if message_before.author.bot:
            return
        time_ = time.strftime('%m/%d %I:%M %p',time.localtime(time.time()))
        ì±„ë„ = discord.utils.get(message_before.guild.text_channels,topic = "ê±´ê°•ì´ ë¡œê·¸ ì±„ë„ì…ë‹ˆë‹¤")
        delete_message_channel = message_before.channel.id #ì‚­ì œëœ ë©”ì‹œì§€ì˜ ì±„ë„ ì•„ì´ë””
        channel_id = ì±„ë„.id #ê±´ê°•ì´-ë¡œê·¸ ì˜ ì•„ì´ë””
        user = message_before.author
        user_id = message_before.author.id
        embed=discord.Embed(title="", description=f"<#{delete_message_channel}> ì—ì„œ ë©”ì‹œì§€ê°€ ìˆ˜ì •ë¨",color=0xFFD700)
        embed.set_author(name=f"{user}", icon_url=message_before.author.avatar_url)
        embed.add_field(name="ìˆ˜ì •ì „ ë©”ì‹œì§€" ,value= message_before.content, inline=True)
        embed.add_field(name="ìˆ˜ì •í›„ ë©”ì‹œì§€" ,value= message_after.content, inline=True)
        embed.add_field(name= "ë©”ì‹œì§€ ì•„ì´ë””",value=message_before.id ,inline=False)
        embed.set_footer(text=f"user id: {user_id} â€¢ {time_}",icon_url = client.user.avatar_url)
                #channel=client.get_channel(channel_id)
        await client.get_channel(int(channel_id)).send(embed=embed)
        return
    except:
        return
#í‡´ì¥ ë¡œê·¸
@client.event
async def on_member_remove(member):
    try:
        ì±„ë„ = discord.utils.get(member.guild.text_channels,topic = "ê±´ê°•ì´ ë¡œê·¸ ì±„ë„ì…ë‹ˆë‹¤")
        time_ = time.strftime('%m/%d %I:%M %p',time.localtime(time.time()))
        channel_id = ì±„ë„.id 
        user = member.name
        user_id = member.id
        create = member.created_at
        join = member.joined_at
        embed=discord.Embed(title="", description=f"{member.mention}ë‹˜ì´ í‡´ì¥í•˜ì…¨ìŠµë‹ˆë‹¤",color=0xFF0000)
        embed.set_author(name=f"{user}#{member.discriminator}", icon_url=member.avatar_url)
        embed.add_field(name="ê³„ì • ìƒì„±ì¼" ,value=f"{create}", inline=False)
        embed.add_field(name="ì„œë²„ ì…ì¥ì¼" ,value=f"{join}", inline=False)
        embed.set_footer(text=f"user id: {user_id} â€¢ {time_}",icon_url = client.user.avatar_url)
        await client.get_channel(int(channel_id)).send(embed=embed)
    except: return
#í†µë°© ì…í‡´ì¥ 
@client.event
async def on_voice_state_update(member, before, after):
    try:
        ì±„ë„ = discord.utils.get(member.guild.text_channels,topic = "ê±´ê°•ì´ ë¡œê·¸ ì±„ë„ì…ë‹ˆë‹¤")
        time_ = time.strftime('%m/%d %I:%M %p',time.localtime(time.time()))
        channel_id = ì±„ë„.id 
        user = member.name
        user_id = member.id
    
        if before.channel != after.channel:
            if before.channel is None and after.channel is not None:
                embed=discord.Embed(title="", description=f"{member.mention}ë‹˜ì´ {after.channel}ì— ì…ì¥í•˜ì…¨ìŠµë‹ˆë‹¤",color=0xFFFAFA)
                embed.set_author(name=f"{user}#{member.discriminator}", icon_url=member.avatar_url)
                embed.add_field(name="ì…ì¥í•œ ì±„ë„" ,value=f"{after.channel}", inline=False)
                embed.add_field(name= "ì±„ë„ ì•„ì´ë””",value=after.channel.id ,inline=False)
                embed.set_footer(text=f"user id: {user_id} â€¢ {time_}",icon_url = client.user.avatar_url)
                await client.get_channel(int(channel_id)).send(embed=embed)

            elif before.channel is not None and after.channel is None:
                embed=discord.Embed(title="", description=f"{member.mention}ë‹˜ì´ {before.channel}ì—ì„œ í‡´ì¥í•˜ì…¨ìŠµë‹ˆë‹¤",color=0xFFFAFA)
                embed.set_author(name=f"{user}#{member.discriminator}", icon_url=member.avatar_url)
                embed.add_field(name="í‡´ì¥í•œ ì±„ë„" ,value=f"{before.channel}", inline=False)
                embed.add_field(name= "ì±„ë„ ì•„ì´ë””",value=before.channel.id ,inline=False)
                embed.set_footer(text=f"user id: {user_id} â€¢ {time_}",icon_url = client.user.avatar_url)
                await client.get_channel(int(channel_id)).send(embed=embed)
    
            else:
                embed=discord.Embed(title="", description=f"{member.mention}ë‹˜ì´ ìŒì„±ë°©ì„ ì´ë™í•˜ì˜€ìŠµë‹ˆë‹¤",color=0xFFFAFA)
                embed.set_author(name=f"{user}#{member.discriminator}", icon_url=member.avatar_url)
                embed.add_field(name="ì´ë™ ì „ ì±„ë„" ,value=f"{before.channel}", inline=True)
                embed.add_field(name="ì´ë™ í›„ ì±„ë„" ,value=f"{after.channel}", inline=True)
                embed.set_footer(text=f"user id: {user_id} â€¢ {time_}",icon_url = client.user.avatar_url)
                await client.get_channel(int(channel_id)).send(embed=embed)
    except: return
#ì…ì¥ ë¡œê·¸
@client.event
async def on_member_join(member):
    try:
        ì±„ë„ = discord.utils.get(member.guild.text_channels,topic = "ê±´ê°•ì´ ë¡œê·¸ ì±„ë„ì…ë‹ˆë‹¤")
        time_ = time.strftime('%m/%d %I:%M %p',time.localtime(time.time()))
        channel_id = ì±„ë„.id 
        user = member.name
        user_id = member.id
        create = member.created_at
        embed=discord.Embed(title="", description=f"{member.mention}ë‹˜ì´ ì…ì¥í•˜ì…¨ìŠµë‹ˆë‹¤",color=0x00FF7F)
        embed.set_author(name=f"{user}#{member.discriminator}", icon_url=member.avatar_url)
        embed.add_field(name="ê³„ì • ìƒì„±ì¼" ,value=f"{create}", inline=True)
        embed.set_footer(text=f"user id: {user_id} â€¢ {time_}",icon_url = client.user.avatar_url)
        await client.get_channel(int(channel_id)).send(embed=embed)
    except: 
        return

#============================================================================ í…ŒëŸ¬ ë°©ì–´ ============================================================================
    #í† í° í…ŒëŸ¬ ë³´í˜¸
    global join_count
    global max_count
    global _time
    join_count = join_count + 1
    if join_count >= max_count:
        for invite in await member.guild.invites():
            await invite.delete()
        channel_id = discord.utils.get(member.guild.text_channels,topic = "ê±´ê°•ì´ í…ŒëŸ¬ ì±„ë„ì…ë‹ˆë‹¤")
        ì±„ë„ = channel_id
        time_ = time.strftime('%m/%d %I:%M %p',time.localtime(time.time()))
        await client.get_channel(int(ì±„ë„)).send(f"@everyone í† í°í…ŒëŸ¬ê°€ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤\nì‹œê°„: {time_}")
    await asyncio.sleep(_time)
    join_count = 0
        
@client.event
async def on_guild_channel_delete(channel):
    async for entry in channel.guild.audit_logs(limit=1):
        user = '{0.user}'.format(entry) #print('{0.user} did {0.action} to {0.target}'.format(entry)) 
    global delete_count,max_delete,_time
    delete_count = delete_count + 1
    for user_id in channel.guild.members:
        if user_id.name+'#'+user_id.discriminator  == user:
            break
    if delete_count >= max_delete:
        await channel.guild.ban(user_id)
        channel_id = discord.utils.get(channel.guild.text_channels,topic = "ê±´ê°•ì´ í…ŒëŸ¬ ì±„ë„ì…ë‹ˆë‹¤")
        time_ = time.strftime('%m/%d %I:%M %p',time.localtime(time.time()))
        await client.get_channel(int(channel_id.id)).send(f"@everyone í´ë¦°í…ŒëŸ¬ê°€ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤\nì‹œê°„: {time_}")
    await asyncio.sleep(_time)
    delete_count = 0 

@client.event
async def on_member_ban(guild,user):
    async for entry in guild.audit_logs(limit=1):
        user = '{0.user}'.format(entry) #print('{0.user} did {0.action} to {0.target}'.format(entry))      
    global ban_count,max_ban,_time
    ban_count = ban_count + 1
    for user_id in guild.members:
        if user_id.name+'#'+user_id.discriminator  == user:
            break
    if ban_count >= max_ban:
        await guild.ban(user_id)
        channel_id = discord.utils.get(guild.text_channels,topic = "ê±´ê°•ì´ í…ŒëŸ¬ ì±„ë„ì…ë‹ˆë‹¤")
        time_ = time.strftime('%m/%d %I:%M %p',time.localtime(time.time()))
        await client.get_channel(int(channel_id.id)).send(f"@everyone ì°¨ë‹¨í…ŒëŸ¬ê°€ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤\nì‹œê°„: {time_}")
    await asyncio.sleep(_time)

#================================================ error log ================================================
@client.event
async def on_command_error(ctx, error):
    if isinstance(error, commands.CommandNotFound):
        print(f'ì˜ëª»ëœ ëª…ë ¹ì–´ê°€ ì…ë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.')
        await ctx.send(f"ì˜ëª»ëœ ëª…ë ¹ì–´ê°€ ì…ë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.")
    if isinstance(error, commands.CommandOnCooldown):
        minute=int(error.retry_after)//60
        hour=minute//60
        # if minute <= 1:
        #     realminute=str(int(error.retry_after)) + 'ì´ˆ'
        # else:
        #     realminute=str(minute) + 'ë¶„'
        # if hour <= 1:
        #     realhour='1ì‹œê°„ ì´ë‚´'
        # else:
        #     realhour=str(hour) + 'ì‹œê°„'
        if hour <= 1:
            realminute=str(int(error.retry_after)) + 'ì´ˆ'
            realhour=str(minute) + 'ë¶„'
        else:
            realminute=str(minute) + 'ë¶„'
            realhour=str(hour) + 'ì‹œê°„'
        await ctx.send(embed=discord.Embed(title=f"ëª…ë ¹ì–´ ì¿¨íƒ€ì„!", description=f"{ctx.message.author.mention}ë‹˜ì˜ ë‹¤ìŒ ëª…ë ¹ì–´ ì‚¬ìš©ê¹Œì§€ ë‚¨ì€ì‹œê°„ \n\n **ì•½ {realhour} (ì•½ {realminute})**", color=0xFF0000)) 
    else:
        embed = discord.Embed(title="ì˜¤ë¥˜!!", description="ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.", color=0xFF0000)
        embed.add_field(name="ìƒì„¸", value=f"```{error}```")
        await ctx.send(embed=embed)

@ban.error
async def ban_error(ctx, error):
    with open("prefix.json", "r") as f:
        prefixes = json.load(f)
        pre = prefixes[str(ctx.guild.id)] 
    if isinstance(error, commands.MissingPermissions):
        await ctx.send(embed=discord.Embed(title="ì˜¤ë¥˜ ë°œìƒ!", description =f"{ctx.author.mention}ë‹˜ì€ ì´ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤!", color=0xFF0000))
    if isinstance(error, commands.MissingRequiredArgument):
        await ctx.send(embed=discord.Embed(title="ì˜¤ë¥˜ ë°œìƒ!", description =f"{ctx.author.mention}ë‹˜ ëª…ë ¹ì–´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”! \n ì˜¬ë°”ë¥¸ ëª…ë ¹ì–´ëŠ” `{pre}ë°´ (ìœ ì €ë©˜ì…˜)`ì…ë‹ˆë‹¤!", color=0xFF0000))
    if isinstance(error, commands.BadArgument):
        await ctx.send(embed=discord.Embed(title="ì˜¤ë¥˜ ë°œìƒ!", description =f"{ctx.author.mention}ë‹˜ ëª…ë ¹ì–´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”! \n ì˜¬ë°”ë¥¸ ëª…ë ¹ì–´ëŠ” `{pre}ë°´ (ìœ ì €ë©˜ì…˜)`ì…ë‹ˆë‹¤!", color=0xFF0000))
    elif discord.errors.Forbidden:
        await ctx.send(embed=discord.Embed(title="ê¶Œí•œ ì˜¤ë¥˜ ë°œìƒ!", description =f"ëŒ€ìƒìë³´ë‹¤ ê¶Œí•œì´ ë‚®ìŠµë‹ˆë‹¤", color=0xFF0000))

@kick.error
async def kick_error(ctx, error):
    with open("prefix.json", "r") as f:
        prefixes = json.load(f)
        pre = prefixes[str(ctx.guild.id)] 
    if isinstance(error, commands.MissingPermissions):
        await ctx.send(embed=discord.Embed(title="ì˜¤ë¥˜ ë°œìƒ!", description =f"{ctx.author.mention}ë‹˜ì€ ì´ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤!", color=0xFF0000))
        return
    if isinstance(error, commands.MissingRequiredArgument):
        await ctx.send(embed=discord.Embed(title="ì˜¤ë¥˜ ë°œìƒ!", description =f"{ctx.author.mention}ë‹˜ ëª…ë ¹ì–´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”! \n ì˜¬ë°”ë¥¸ ëª…ë ¹ì–´ëŠ” `{pre}í‚¥ (ìœ ì €ë©˜ì…˜)`ì…ë‹ˆë‹¤!", color=0xFF0000))
    if isinstance(error, commands.BadArgument):
        await ctx.send(embed=discord.Embed(title="ì˜¤ë¥˜ ë°œìƒ!", description =f"{ctx.author.mention}ë‹˜ ëª…ë ¹ì–´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”! \n ì˜¬ë°”ë¥¸ ëª…ë ¹ì–´ëŠ” `{pre}í‚¥ (ìœ ì €ë©˜ì…˜)`ì…ë‹ˆë‹¤!", color=0xFF0000))
    if discord.errors.Forbidden:
        await ctx.send(embed=discord.Embed(title="ê¶Œí•œ ì˜¤ë¥˜ ë°œìƒ!", description =f"ëŒ€ìƒìë³´ë‹¤ ë´‡ì˜ ê¶Œí•œì´ ë‚®ìŠµë‹ˆë‹¤", color=0xFF0000))
        return


client.run(í† í°)
